{
    "type": "object",
    "additionalProperties": false,
    "required": [{{#each entity.fields}}{{#if required}}{{#neq cleanName ../entity.legacyIdField}}"{{cleanName}}", {{/neq}}{{/if}}{{/each}}"{{entity.legacyIdField}}"],
    "properties": {
        "id": { "type": "string" },
        "{{entity.legacyIdField}}": { "type": "string" },
{{#each entity.relationships.parents}}
        "{{foreignKeyInChild}}": { "type": "string" },
{{/each}}
{{#each entity.fields}}
{{#neq cleanName ../entity.legacyIdField}}
        "{{cleanName}}": { "type": "{{jsonSchemaType}}"{{#each ../entity.codeMaps}}{{#if (eq cleanField ../cleanName)}}, "enum": [{{#each mapping}}"{{this}}"{{#unless @last}}, {{/unless}}{{/each}}]{{/if}}{{/each}} }{{#unless @last}},{{/unless}}
{{/neq}}
{{/each}}
    }
}

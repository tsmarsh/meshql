%% {{model.projectName}} - VeriForged Schema
%% Generated by Mesher
%%
%% Usage: veriforged generate schema.pl --config gen.toml --output data/

{{#each model.entities}}
table({{legacyTable}}).
{{#each fields}}
column({{../legacyTable}}, {{legacyName}}, {{cleanType}}, {{#if required}}false{{else}}true{{/if}}).
{{/each}}

{{/each}}
{{#each model.entities}}
{{#unless isRoot}}
{{#each relationships.parents}}
foreign_key({{../../legacyTable}}, {{../legacyPrimaryKey}}, {{targetEntity}}, {{foreignKeyInChild}}).
{{/each}}
{{/unless}}
{{/each}}
